<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.couple.couplediaryapp.diary.DiaryMapper">
    <!-- 일기 목록 조회 -->
    <select id="getDiary">
        SELECT B.cdiary, A.pic AS writerPic, B.title AS diaryTitle,
        B.`contents` AS diaryContents, B.emoji AS diaryEmoji,
        B.created_at AS createdAt
        FROM couple_user AS A
        JOIN couple_diary AS B
        ON A.cuser = B.cuser
        WHERE B.ccouple = #{coupleId}
        ORDER BY B.cdiary DESC
    </select>
    <select id="getDiaryPics">
        SELECT cpic
        FROM couple_pics
        WHERE cdiary = #{diaryId}
    </select>
    <select id="getDiaryHash">
        SELECT hash_contents
        FROM couple_hash
        WHERE cdiary = #{diaryId}
    </select>
    <!-- -->
</mapper>